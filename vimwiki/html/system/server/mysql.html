<!DOCTYPE HTML>
<html>
    <head>
        <!-- SyntaxHighlighter -->
        <script src="../../../public/sh/scripts/shCore.js"></script>
        <script src="../../../public/sh/scripts/shBrushAll.js"></script>
        <link type="text/css" rel="stylesheet" href="../../../public/sh/styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../../../public/sh/styles/shThemeMidnight.css"/>
        <script>
                SyntaxHighlighter.config.clipboardSwf = '../../../public/sh/scripts/clipboard.swf';
                    SyntaxHighlighter.all();
        </script>
                <!-- 第一行是引入核心文件 -->
                <!-- 第二行是引入语法高亮文件（可视需要书写多条，具体可查看 scripts 文件夹下的各个文件） -->
                <!-- 更多语法高亮请访问 https://github.com/ruchee/backup2/tree/master/scripts 获取 -->
                <!-- 第三行是引入基本 CSS 文件 -->
                <!-- 第四行是指定使用的颜色主题（更多主题可查看 styles 文件夹） -->
                <!-- ../../ 指代的是 HTML 代码根目录 -->
        <title>Mysql5.5.28的配置与安装</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="Stylesheet" type="text/css" href="../../../public/css/main.css" />
        <!-- blog ico -->
        <link type="image/x-icon" rel="icon" href="../../../public/images/ruchee.ico" />
        <link type="image/x-icon" rel="shortcut icon" href="../../../public/images/ruchee.ico" />
    </head>
    <body>
        <center style="font-family: 'Microsoft Yahei', sans-serif; font-size: 1.80em;
            font-weight: normal; color: #FF6600">Mdaxue-Wiki</center><br />
        <center>MdaxueWiki系统</center>


        
<h2 id="toc_0.1">Mysql5.5.28的配置与安装</h2>
<p>
这里只会单单讲解Mysql的编译安装，版本号为5.5.28，其它版本也可参考，但不确保能通过，并且定义mysql的安装目录为<code>/usr/local/mysql</code>、mysql的数据目录即data目录为<code>/data/mysql</code>.
</p>
<h3 id="toc_0.1.1">添加用户、组和目录结构</h3>
<pre class="brush :bash">
groupadd mysql
useradd -g mysql mysql -s /bin/false
mkdir -p /data/mysql
chown -R mysql:mysql /data/mysql
mkdir -p /usr/local/mysql
</pre>
<h3 id="toc_0.1.2">编译安装和安装脚本说明</h3>
<pre class="brush :bash">
cd /usr/local/src
tar zxvf mysql-5.5.28.tar.gz
cd mysql-5.5.28
cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql  -DMYSQL_DATADIR=/data/mysql  -DSYSCONFDIR=/etc 
make
make install
rm -rf /etc/my.cnf #删除系统默认的配置文件
cd /usr/local/mysql
./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql    #初始化mysql系统数据库
ln -s /usr/local/mysql/my.cnf /etc/my.cnf   #建立mysql配置文件软链接，此配置文件在哪找，去看概览
cp ./support-files/mysql.server  /etc/rc.d/init.d/mysqld    #添加开机启动脚本
chmod 755 /etc/init.d/mysqld
chkconfig mysqld on     #开机自动启动
echo 'basedir=/usr/local/mysql/' &gt;&gt; /etc/rc.d/init.d/mysqld
echo 'datadir=/data/mysql/' &gt;&gt;/etc/rc.d/init.d/mysqld
service mysqld start
echo 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profile
ln -s /usr/local/mysql/lib/mysql /usr/lib/mysql
ln -s /usr/local/mysql/include/mysql /usr/include/mysql
mkdir /var/lib/mysql
ln -s /tmp/mysql.sock  /var/lib/mysql/mysql.sock
</pre>
<hr />
<p>
至此，mysql的安装就完成了，还是很简单的，后期如果有什么好的sql语句也可以在这里搜集起来学习。相关的维护文档也可以放在这里，安装就这样就可以了。
<hr />
</p>



        <center  style="font-family: 'Microsoft Yahei'; font-size: small; font-weight: normal; color: #009933">
            Mdaxue&nbsp;&copy;&nbsp;2011-2013&nbsp;www.mdaxue.com<br/>
            Generated by Vim and Vimwiki
        </center>
    </body>
</html>
